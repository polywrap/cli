#import { Query, ResponseType } into Http from "w3://ens/http.web3api.eth"

type Mutation {
  # Saves file to ipfs, returns _name_, _hash_ and _size_ as `AddResult`.
  addFile(
    ipfsUrl: String!
    fileEntry: FileEntry!
    options: AddFileOptions
  ): AddResult!

  # Saves folder structure to ipfs, returns _name_, _hash_ and _size_ as `AddResult` for each entry as array.
  addFolder(
    ipfsUrl: String!
    directoryEntry: DirectoryBlob!
    options: AddFileOptions
  ): [AddResult!]!
}

type AddResult {
  name: String!
  hash: String!
  size: String!
}

type AddFileOptions {
  wrapWithDirectory: Boolean
  pin: Boolean
  onlyHash: Boolean
}

type DirectoryEntry {
  name: String!
  directories: [DirectoryEntry!]!
  files: [FileEntry!]!
}

type FileEntry {
  name: String!
  data: Bytes!
}

type DirectoryBlob {
  directories: [DirectoryEntry!]!
  files: [FileEntry!]!
}