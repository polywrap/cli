#import { Query, ResponseType } into Http from "w3://ens/http.web3api.eth"

type Query {
  # Returns byte content of file, defined by provided cid
  catFile(
    cid: String!
    catFileOptions: CatFileOptions
    ipfs: IpfsOptions!
  ): Bytes!

  catFileToString(
    cid: String!
    catFileOptions: CatFileOptions
    ipfs: IpfsOptions!
  ): String!

  resolve(
    cid: String!
    ipfs: IpfsOptions!
  ): ResolveResult!

  # tryResolveUri(authority: String!, path: String!): String
  # getFile(path: String!): Bytes
}

type CatFileOptions {
  headers: [Http_Header!]
  queryString: [Http_UrlParam!]
  offset: Int32
  length: Int32
  timeout: UInt32
}

type IpfsOptions {
  provider: String!
  fallbackProviders: [String!]
}

type ResolveResult {
  cid: String!
  provider: String!
}
